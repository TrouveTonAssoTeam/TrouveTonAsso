<div style="text-align: center;">
    <h1>Trouve Ton Asso</h1>
    <p>Chez Touve Ton Asso, nous croyons que chaque acte de générosité, quel que soit sa taille, a le pouvoir de transformer des vies. Notre plateforme est bien plus qu'un simple espace pour faire des dons ; c'est un lieu où l'empathie prend vie, où des causes inspirantes trouvent un écho, et où l'impact concret devient accessible à tous.</p>
    <%= link_to "En Savoir Plus", about_path, class: "nav-link" %>
</div>
<div class="card-container">
    <div class="card">
        <h1>card title</h1>
        <p>card content</p>
        <p>lorem ipsum</p>
        <div class="btn-group">
            <button class="btn btn-primary">Primary</button>
            <button class="btn btn-secondary">Secondary</button>
        </div>
    </div>
    <div class="card">
        <h1>card title</h1>
        <p>card content</p>
        <p>lorem ipsum</p>
        <button class="btn btn-secondary">Secondary</button>
    </div>
    <div class="card">
        <h1>card title</h1>
        <p>card content</p>
        <p>lorem ipsum</p>
        <button class="btn btn-primary">Primary</button>
    </div>
</div>

<div class="form-container">
    <h1>Contact</h1>
    <form class="form">
        <div>
            <label for="name">Name</label>
            <input type="text" id="name">
        </div>

        <div>
            <label for="email">Email</label>
            <input type="text" id="email">
        </div>

        <div>
            <label for="message">Message</label>
            <textarea id="message"></textarea>
        </div>

        <div class="form-group">
            <div>
                <label for="city">City</label>
                <input type="text" id="city">
            </div>
            <div>
                <label for="zip">Zipcode</label>
                <input type="text" id="zip">
            </div>
        </div>

        <input type="submit" class="btn btn-primary">
    </form>
</div>

<div class="form-container form-side">
    <div class="left-side">
    <h1>Contact</h1>
    <form class="form">
        <div>
            <label for="name">Name</label>
            <input type="text" id="name">
        </div>

        <div>
            <label for="email">Email</label>
            <input type="text" id="email">
        </div>

        <div>
            <label for="message">Message</label>
            <textarea id="message"></textarea>
        </div>

        <div class="form-group">
            <div>
                <label for="city">City</label>
                <input type="text" id="city">
            </div>
            <div>
                <label for="zip">Zipcode</label>
                <input type="text" id="zip">
            </div>
        </div>

        <input type="submit" class="btn btn-primary">
    </form>
    </div>
    <div class="right-side no-display-md" style="background-image: url('<%= asset_path('form.jpg') %>');">
    </div>
</div>

<%= button_to  like_asso_path(Organisation.all.sample), method: :post do %>
    <ion-icon name="heart">
    <div class='red-bg'></div>
    </ion-icon>
<% end %>

<%= button_to unlike_asso_path(Organisation.all.sample), method: :delete, class: 'like-btn', remote: true do %>
  Unlike
<% end %>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const likeBtns = document.querySelectorAll('.like-btn');

    likeBtns.forEach(function(btn) {
      btn.addEventListener('click', function(event) {
        if (btn.textContent === 'Like') {
          btn.textContent = 'Unlike';
        } else {
          btn.textContent = 'Like';
        }
      });
    });
  });
</script>
</div>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>


  <title>Liste dans un Tableau</title>
  <style>
    /* Styles facultatifs pour le tableau */
    table {
      border-collapse: collapse;
      width: 100%;
    }

    th, td {
      border: 1px solid black;
      padding: 8px;
      text-align: left;
    }

    th {
      background-color: #f2f2f2;
    }
  </style>
</head>
<body>

<h2>Associations likées par l'utilisateur</h2>

<table id="tableAssociations">
  <thead>
    <tr>
      <th>Likes</th>
      <th>Associations</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="likes">0</td>
      <td>Association 1 <button onclick="toggleLike(this)">Like</button></td>
    </tr>
    <tr>
      <td class="likes">0</td>
      <td>Association 2 <button onclick="toggleLike(this)">Like</button></td>
    </tr>
    <tr>
      <td class="likes">0</td>
      <td>Association 3 <button onclick="toggleLike(this)">Like</button></td>
    </tr>
  </tbody>
</table>

<script>
function toggleLike(button) {
  let row = button.parentNode.parentNode;
  let likesCell = row.querySelector('td:first-child');
  let currentLikes = parseInt(likesCell.textContent);

  if (button.dataset.liked === 'true') {
   
    if (currentLikes > 0) {
      currentLikes--;
      likesCell.textContent = currentLikes;
    }
    button.dataset.liked = 'false';
    button.textContent = 'Like'; // Modifier le texte du bouton
  } else {
   
    likesCell.textContent = currentLikes + 1;
    button.dataset.liked = 'true';
    button.textContent = 'Unlike'; // Modifier le texte du bouton
  }
}
</script>

</body>